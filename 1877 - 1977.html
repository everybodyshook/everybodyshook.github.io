<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Zoomable - generated by zoomable.ca</title>
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>

    <style>
	body {
	  background-color: #333;
	}

	html, 
	body, 
	#openseadragon1 {
	  position: fixed;
	  left: 0;
	  top: 20;
	  width: 100%;
	  height: 100%;
	}

	#credit {
		font-family: Verdana, Geneva, sans-serif;
		font-size: 11px;
		position: absolute;	
		bottom: 10px;
		right: 10px;
		z-index: 999;
	}

	#credit a {
		clear: both;
		display: block;
		color: #fff;
		text-decoration: none;
	}	
	#toolbar {
    padding-bottom:10px;
  	}
	@media only screen and (max-width: 800px) {
		.r6o-editor {
  		width:260px !important;
		}
	}
	</style>

<!-- CSS stylesheet -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@recogito/annotorious-openseadragon@2.7.8/dist/annotorious.min.css">
<!-- JS -->
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
	<script src='https://openseadragon.github.io/openseadragon/openseadragon.js'></script>
	<script src="https://cdn.jsdelivr.net/npm/@recogito/annotorious@2.7.8/dist/annotorious.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@recogito/annotorious-openseadragon@2.7.8/dist/openseadragon-annotorious.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@recogito/annotorious-toolbar@0.1.1/dist/annotorious-toolbar.min.js"></script>
</head>

<body>
	<div>
		<div id="toolbar">
			<!--<a href="1877 - 1977.html" class="button">Save Annotations</a>-->
		</div>
	</div>
		<div id="openseadragon1"></div>
		<div id="credit"><a href="http://www.zoomable.ca" target="_blank">zoomable.ca</a></div>
	</div>
	<script>
		var viewer = OpenSeadragon({
			id: 'openseadragon1',
			prefixUrl: 'https://openseadragon.github.io/openseadragon/images/',
			tileSources: [{
				type:       "zoomifytileservice",
				width:      9597,
				height:     19653,
				tilesUrl:   "1877 - 1977/"
			}]	
		});
		// Initialize the Annotorious plugin
		window.ebs = {};
		anno = OpenSeadragon.Annotorious(viewer);
		toolbar = document.getElementById('toolbar')
		Annotorious.Toolbar(anno, toolbar);
		$("div.a9s-toolbar").append($('<button class="icon solid fa-save a9s-toolbar-btn" onclick="saveAnno()"></button>'))
		// Load annotations in W3C WebAnnotation format
		anno.loadAnnotations('1877-annotations.json');
		function saveAnno() {
        	console.log(decodeURI(JSON.stringify(anno.getAnnotations())));
			console.log("what");
      	}
	</script>	

</body>
</html>	
	